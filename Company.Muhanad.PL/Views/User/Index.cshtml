@model IEnumerable<UserViewModel>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>All Users</h1>
<br />
<br />


<form asp-action="Index">
    <div class="row m-5">
        <div class="col-8 ">
            <input type="text" class="form-control" placeholder="Search By Name" name="searchInput" id="searchInput" />
        </div>
        <div class="col-4">
            <input type="submit" class="btn btn-success" value="Search" />
        </div>
    </div>
</form>



@if (Model.Count() > 0)
{
    <div>        
        <table class="table table-striped table-hover">
            <thead>
                <tr>

                    <th>@Html.DisplayNameFor(X => X.Id)</th>
                    <th>@Html.DisplayNameFor(X => X.FirstName)</th>
                    <th>@Html.DisplayNameFor(X => X.LastName)</th>
                    <th>@Html.DisplayNameFor(X => X.Email)</th>
                    <th>@Html.DisplayNameFor(X => X.Roles)</th>
                    <th>Details</th>
                    <th>Update</th>
                    <th>Delete</th>

                </tr>
            </thead>
            <tbody>
                @foreach (var user in Model)
                {
                    <tr>
                        <td>@Html.DisplayFor(U => user.Id)</td>
                        <td>@Html.DisplayFor(U => user.FirstName)</td>
                        <td>@Html.DisplayFor(U => user.LastName)</td>
                        <td>@Html.DisplayFor(U => user.Email)</td>
                        <td>@string.Join(" , ", user.Roles)</td>
                        @* <td>@Html.DisplayFor(U => user.Roles)</td> *@
                        <partial name="_IndexPartialView" model="user.Id"></partial>">
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <center>
        <h4 class="alert alert-danger">There are no Employees</h4>
    </center>
}